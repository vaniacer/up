{% load bootstrap3 %}

<div class="col-sm-12"><h4 class="right">Scripts</h4></div>

{% buttons %}
    {% include "ups/project_scripts_buttons.html" %}
{% endbuttons %}

<div class="roller">
    {% for script in scripts_filtered %}

        <div id="xb{{script.id}}"
             class="panel panel-default script-body"
             onclick="selector('xx{{script.id}}', 'xb{{script.id}}', '{{script}}', 'SX')">

            <div class="panel-heading">
                <h4 class="Name" title="{{script.desc}}">{{script}} </h4>
                {% include "ups/commands_scripts.html" %}
                <!--Individual visibility buttons-->
                <input value="+"
                       type="button"
                       id="xh{{script.id}}"
                       class="btn btn-xs xshow right"
                       title="Show\Hide this script info."
                       onclick="selector('xx{{script.id}}', 'xb{{script.id}}', '{{script}}', 'SX');
                                show_or_hide_this('xh{{script.id}}', 'xp{{script.id}}')"/>
            </div>

            <div class="panel-body">
                <dl class="dl-horizontal script-panel xp{{script.id}}">
                    <dt>Description</dt><dd>{{script.desc|linebreaks}}</dd>
                    <dt>Preview</dt><dd>{{script.body|linebreaks|truncatewords:30}}</dd>
                    <dt><small>Added by</small></dt><dd><small>{{script.user}}</small></dd>
                    <dt><small>Date added</small></dt><dd><small>{{script.date|date:'M d, Y H:i'}}</small></dd>
                </dl>
            </div>

        </div>

        {% if "run_command" in pr_view_perms %}
        <!--Hidden checkboxes-->
        <input class="hidden"
               type="checkbox"
               id="xx{{script.id}}"
               value="{{script.id}}"
               name="selected_scripts"
               data-target="{{script}}"/>
        {% endif %}

    {% empty %}
        There are no scripts for this project yet.
    {% endfor %}

    <br><br>

</div>
