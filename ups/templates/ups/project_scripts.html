{% load bootstrap3 %}

<br>
<div class="row">
    <div class="col-md-2"><h3 class="Name">Scripts</h3></div>
    <div class="col-md-10">{% include "ups/project_scripts_buttons.html" %}</div>
</div>

<div class="roller xroller">
{% for script in scripts %}

    <div class="panel panel-default"
         onclick="selector('xx{{ script.id }}', 'xb{{ script.id }}', '{{ script }}', 'SX')">

        <div class="panel-heading">
            <h4 class="Name" title="{{script.desc}}">{{script}} </h4>
            {% include "ups/commands_scripts.html" %}

            <!--Individual visibility buttons-->
            <input value="-"
                   type="button"
                   title="Hide script info."
                   class="btn btn-xs xhide xh{{script.id}} right"
                   onclick="selector('xx{{script.id}}', 'xb{{script.id}}', '{{script}}', 'SX');
                            hide_info('xi{{script.id}}',
                                      '.xp{{script.id}}',
                                      '.xh{{script.id}}',
                                      '.xs{{script.id}}')"/>
            <input value="+"
                   type="button"
                   title="Show script info."
                   class="btn btn-xs xshow xs{{script.id}} right"
                   onclick="selector('xx{{script.id}}', 'xb{{script.id}}', '{{script}}', 'SX');
                            show_info('xi{{script.id}}',
                                      '.xp{{script.id}}',
                                      '.xs{{script.id}}',
                                      '.xh{{script.id}}')"/>
        </div>

        <div class="panel-body script-body" id="xb{{script.id}}">
            <dl class="dl-horizontal script-panel xp{{script.id}}">
                <dt>Description</dt><dd>{{script.desc|linebreaks}}</dd>
                <dt>Preview</dt><dd>{{script.body|linebreaks|truncatewords:10}}</dd>
                <dt><small>Added by</small></dt><dd><small>{{script.user}}</small></dd>
                <dt><small>Date added</small></dt><dd><small>{{script.date|date:'M d, Y H:i'}}</small></dd>
            </dl>

            {% if "run_command" in pr_view_perms %}
                <!--Hidden checkboxes-->
                <input  class="hidden"
                        type="checkbox"
                        id="xx{{script.id}}"
                        name="selected_scripts"
                        value="{{script.id}}"
                        data-target="{{script}}"/>
            {% endif %}
        </div>

    </div> <!-- panel -->

{% empty %}
    There are no scripts for this project yet.
{% endfor %}
</div>
