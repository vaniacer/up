{% load bootstrap3 %}

{% buttons %}
    {% if "run_command" in pr_view_perms %}
        {% if updates %}
            <div class="btn-group">
                <button type="button" class="btn btn-info btn-xs dropdown-toggle" data-toggle="dropdown">Commands
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu">

                    <li><a onclick="return Validation('copy', true, true, false, false, false, false)"
                           title="Copy selected update(s) to selected server(s)."
                           href="javascript:;">Copy</a></li>

                    <li><a onclick="return Validation('update', true, true, false, false, false, false)"
                           title="Update selected server(s)."
                           href="javascript:;"
                           class="danger">Update</a></li>

                    <li><a onclick="return Validation('check_updates', true, false, false, false, false, false)"
                           title="Check updates on selected server(s)."
                           href="javascript:;">Check updates</a></li>

                    <li><a onclick="return Validation('del_all_updates', true, false, false, false, false, true)"
                           title="Delete all updates from selected server(s)."
                           href="javascript:;"
                           class="danger">Delete all updates</a></li>

                    <li><a onclick="return Validation('del_sel_updates', true, true, false, false, false, true)"
                           title="Delete selected update(s) from selected server(s)."
                           href="javascript:;"
                           class="danger">Delete selected updates</a></li>

                    <li class="divider"></li>

                    <li><a title="Add new update file."
                           href="{% url 'ups:new_update' project.id %}?{{info}}">Add new update</a></li>
                </ul>
            </div>

            <input type="button"
                   value="Select All"
                   title="Select all updates."
                   class="btn btn-info btn-xs"
                   onclick="select_all('selected_updates', 'update-body', true,  'SU')"/>

            <input type="button"
                   value="Deselect All"
                   title="Deselect all updates."
                   class="btn btn-info btn-xs"
                   onclick="select_all('selected_updates', 'update-body', false, 'SU')"/>

            <input type="button"
                   value="Hide Info"
                   title="Hide updates' info."
                   class="btn btn-info btn-xs uhide"
                   onclick="hide_info('id_update_info', '.update-panel', '.uhide', '.ushow'); $('#selector').submit()"/>

            <input type="button"
                   value="Show Info"
                   title="Show updates' info."
                   class="btn btn-info btn-xs ushow"
                   onclick="show_info('id_update_info', '.update-panel', '.ushow', '.uhide'); $('#selector').submit()"/>
        {% endif %}

    {% endif %}

    {% if "add_update" in pr_view_perms %}
        <a title="Add new update."
           class="btn btn-success btn-xs"
           href="{% url 'ups:new_update' project.id %}?{{info}}">Add</a>
    {% endif %}

{% endbuttons %}